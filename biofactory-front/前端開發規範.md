# 前端開發規範標準

## 目錄

- [組織架構規範](#組織架構規範)
- [文件命名規範](#文件命名規範)
- [JavaScript 規範](#javascript-規範)
- [元件規範](#元件規範)
- [Tailwind CSS 規範](#tailwind-css-規範)
- [CSS 規範](#css-規範)
- [HTML 規範](#html-規範)
- [版控系統 SVN/GIT](#版控系統-svngit)
- [測試規範(暫定)](#測試規範暫定)

## 組織架構規範

清晰一致的目錄結構，可提高維護性和可讀性。

區塊劃分：每個區塊應具有明確的職責，避免功能重疊。

資料夾命名：優先按照以下名稱，新增檔案應使用小寫，有複數結構時要加s，使用縮寫亦同

```haskell
├── public/               # 靜態公共資源(icon、sitemap等)
│   ├── favicon.ico       # 網站圖示
│   └── robots.txt        # 搜尋引擎爬蟲規則
│
├── src/                  # 主要開發目錄
│   ├── assets/           # 動態引用資源（images、SVG、fonts等）
│   ├── components/       # React 元件
│   ├── utils/            # 通用工具函數
│   ├── pages/            # 頁面組件
│   ├── hooks/            # 自定義 Hook (可選)
│   ├── layouts/          # 頁面佈局模板 (可選)
│   ├── services/         # API 服務層 (可選)
│   ├── styles/           # 全域樣式 (可選)
│   ├── config/           # 全域配置 (可選)
│   ├── routes/           # 路由配置 (可選)
│   ├── App.jsx           # 根元件
│   └── main.jsx          # 應用程式入口
│
├── index.html            # 主 HTML 文件
├── package.json          # 項目依賴與腳本管理文件
├── vite.config.js        # Vite 配置文件
├── tailwind.config.js    # Tailwind CSS 配置
├── .gitignore            # Git忽略規則
├── .eslintrc.js          # ESLint配置（代碼品質檢查）
├── .prettierrc.js        # Prettier配置（代碼格式化）
├── README.md             # 說明文檔
└── __tests__/            # 單元測試目錄（可選）
```

- public 與 src/assets的區別和使用時機

| **特性**       | **`public/` 靜態資源**                                               | **`src/assets/` 動態資源**                                      |
| -------------- | -------------------------------------------------------------------- | --------------------------------------------------------------- |
| **構建處理**   | 直接複製，**不經任何處理**                                           | 視為模組依賴，**會經構建流程處理**                              |
| **典型用途**   | 不需處理的純靜態文件                                                 | 需優化/轉換的前端資源                                           |
| **引用方式**   | 使用絕對路徑 (`/filename`)                                           | 使用相對路徑或模組導入 (`import`)                               |
| **檔案名稱**   | 保留原始名稱                                                         | 可能被添加 hash (防止快取)                                      |
| **程式碼範例** | `<img src="/logo.png">`                                              | `import logo from '@/assets/logo.png'`                          |
| **檔案範例**   | 用戶直接下載的檔案，如:Excel<br>引入的第三方庫<br>開發階段的模擬數據 | 需要響應式處理的圖片<br>自定義字體文件<br>轉為 React 元件的 SVG |

- 補充說明:

  「動態資源」是指 **被 JavaScript/React 元件以模組化方式引用** 的資源文件，包含：

  1. **構建時處理**：
     - 圖片壓縮 (WebP 轉換、尺寸優化)
     - SVG 轉 React 元件 (使用 `vite-plugin-svgr`)
     - 文件名追加哈希 (如 `logo.abcd1234.png`)
  2. **動態導入(按需加載)**：

     ```jsx
     const imageUrl = new URL(`./assets/${fileName}.png`, baseURL);
     ```

## 文件命名規範

- 保持命名簡潔明瞭，並使用正確英文命名。
- 避免使用空格和特殊字符
- 避免隨意縮寫，如: ordMgmt (orderManagement )
- 避免無意義、錯誤、不相關的命名，如: newPage、abc

| **類型**            | **命名規範**                             | 副檔名                       | 範例                     | 反例        |
| ------------------- | ---------------------------------------- | ---------------------------- | ------------------------ | ----------- |
| 元件、頁面          | PascalCase（大駝峰式命名法）             | .jsx                         | Button.jsx、HomePage.jsx | btn.jsx     |
| 自定義Hook          | camelCase（小駝峰式命名法）<br>以use開頭 | .js                          | useAuth.js               | use-auth.js |
| 工具函式…等非組件JS | camelCase（小駝峰式命名法）              | .js                          | formatDate.js            | Formdate.js |
| 樣式文件            | 元件樣式應與對應元件同名 + .module.css   | .css (全域) /<br>.module.css | Button.module.css        | Button.css  |
| 測試文件            | 與對應元件同名                           | .test.jsx                    | Button.test.jsx          | Button.jsx  |

## JavaScript 規範

**語法標準**：遵循 ECMAScript 6+ 標準，使用 `const` 和 `let` 定義變量，非必要不使用 var。

命名規則：

- 變數、函數及參數：使用駝峰式命名法（camelCase），首字母小寫。

  ```jsx
  // 推薦 變數:
  let userProfile = { name: 'Alice' };
  const fetchAPIData = () => { /* ... */ };

  // 推薦 函數及參數:
  function handleSubmit(formData, isValid) { ... }

  //不推薦 變數（錯誤：帕斯卡命名法、蛇形命名法、首字母大寫）
  let UserProfile = { name: 'Alice' };  // ❌ 首字母大寫
  const fetch_api_data = () => { /* ... */ }; // ❌ 蛇形命名法

  //不推薦 函數及參數（錯誤：混合風格、全大寫）
  function HandleSubmit(FormData, IS_VALID) {  // ❌ 函數首字母大寫，參數蛇形全大寫
  ```

- **method 方法命名必須是 動詞 或者 動詞+名詞**
  增刪查改，僅限使用以下 5 個單詞：add / update / delete / detail / get

  正例：saveShopCarData /openShopCarInfoDialog

  反例：save / open / show / go

  <details>
    <summary>補充：函数方法常見的動詞</summary>       
        
    | **英文動詞** | **中文動詞** |
    | --- | --- |
    | get / set | 獲取 / 設置 |
    | add / remove | 增加 / 刪除 |
    | is / has | 判斷存在 / 檢查具備 |
    | calc / check | 計算 / 驗證 |
    | create / destroy | 創建 / 銷毀 |
    | start / stop | 啟動 / 停止 |
    | open / close | 打開 / 關閉 |
    | read / write | 讀取 / 寫入 |
    | load / save | 載入 / 保存 |
    | begin / end | 開始 / 結束 |
    | backup / restore | 備份 / 恢復 |
    | import / export | 導入 / 匯出 |
    | split / merge | 分割 / 合併 |
    | inject / extract | 注入 / 提取 |
    | attach / detach | 附著 / 脫離 |
    | bind / separate | 綁定 / 分離 |
    | view / browse | 查看 / 流覽 |
    | edit / modify | 編輯 / 修改 |
    | select / mark | 選取 / 標記 |
    | copy / paste | 複製 / 粘貼 |
    | undo / redo | 撤銷 / 重做 |
    | insert / delete | 插入 / 移除 |
    | add / append | 加入 / 添加 |
    | clean / clear | 清理 / 清除 |
    | index / sort | 索引 / 排序 |
    | find / search | 查找 / 搜索 |
    | increase / decrease | 增加 / 減少 |
    | play / pause | 播放 / 暫停 |
    | launch / run | 啟動 / 運行 |
    | compile / execute | 編譯 / 執行 |
    | debug / trace | 調試 / 跟蹤 |
    | observe / listen | 觀察 / 監聽 |
    | build / publish | 構建 / 發佈 |
    | input / output | 輸入 / 輸出 |
    | encode / decode | 編碼 / 解碼 |
    | encrypt / decrypt | 加密 / 解密 |
    | compress / decompress | 壓縮 / 解壓縮 |
    | pack / unpack | 打包 / 解包 |
    | parse / emit | 解析 / 生成 |
    | connect / disconnect | 連接 / 斷開 |
    | send / receive | 發送 / 接收 |
    | download / upload | 下載 / 上傳 |
    | refresh / synchronize | 刷新 / 同步 |
    | update / revert | 更新 / 復原 |
    | lock / unlock | 鎖定 / 解鎖 |
    | check out / check in | 簽出 / 簽入 |
    | submit / commit | 提交 / 交付 |
    | push / pull | 推 / 拉 |
    | expand / collapse | 展開 / 折疊 |
    | enter / exit | 進入 / 退出 |
    | abort / quit | 放棄 / 離開 |
    | collect / aggregate | 收集 / 聚集 |
    | obsolete / depreciate | 廢棄 / 廢舊 |

    </details>

- 事件處理命名，使用 handle 作為前綴

  ```jsx
  // 推薦:
  const handleClick = () => {
    console.log('Button clicked');
  };

  //不推薦:
  const onClick = () => {
    console.log('Button clicked');
  };
  ```

- 常量：使用全大寫，單詞間以下劃線分隔。

  ```jsx
  // 推薦:
  // 純值常量（不可變）
  const MAX_USERS = 100; // ✅ 全大寫，符合語義
  const API_ENDPOINT = '/data'; // ✅ 明確表示固定值

  //不推薦:
  const maxCount = 10;
  ```

- **布林值變數**：使用`is`、`has`、`should`等前綴

  ```jsx
  // 推薦:
  let isVisible = true;
  const hasPermission = checkPermissions();

  // 不推薦:
  let visible = true;
  const permission = checkPermissions();
  ```

- **字符串**：
  統一使用單引號（`'`），除非字符串中包含單引號，才使用雙引號（`"`）

  ```jsx
  // 推薦:
  let message = 'Hello World';
  let warning = "Don't touch that!";

  // 不推薦:
  let message = 'Hello World'; // 未包含單引號卻用雙引號
  let warning = "Don't touch that!"; // 可用雙引號避免轉義
  ```

- **括號**：在`if`、`else`、`for`、`while`、`do`、`switch`、`try、catch、finally`、`with`等語句中，即使只有一行代碼，也必須使用大括號`{}`

  ```jsx
  // 推薦:
  if (isValid) {
    submitForm();
  }

  // 不推薦:
  if (isValid) submitForm();
  ```

- **分號**：每行結束必須加分號。

  ```jsx
  // 推薦:
  const name = 'Alice';
  window.scrollTo(0, 0);

  // 不推薦:
  const name = 'Alice';
  window.scrollTo(0, 0); // 缺少分號
  ```

- **空格**：二元運算符，三元運算子…等，符號前後必須有一個空格，例如`a + b`

  ```jsx
  // 推薦:
  let sum = a + b;
  let result = isValid ? 'Yes' : 'No';

  // 不推薦:
  let sum = a + b;
  let result = isValid ? 'Yes' : 'No';
  ```

- **縮排**：使用 2 個空格。

  ```jsx
  // 推薦:
  function calculate() {
    let total = 0;
    return total * 2;
  }

  // 不推薦:
  function calculate() {
    let total = 0; // 使用 tab 或 4 空格
    return total * 2; // 未縮進
  }
  ```

- 分行：
  不同邏輯、不同語義、不同業務的代碼之間插入一個空行分隔，以提升可讀性
- 註釋：使用`//`進行單行註釋，使用`/* */`進行多行註釋

  ```jsx
  **// 推薦:
  // 單行註釋

  /*
     多行註釋
     第二行註釋
  */

  // 不推薦:
  不寫註釋抓去遊街
  ------------------------- // 多行註釋用隨意符號**
  ```

- 最大行長：每行代碼過長，難以閱讀( 超過100個字符 )

  ```jsx
  **// 推薦: 拆分成多行保持可讀性
  <button
    className={
      'px-4 py-2 rounded-md ' +
      (isPrimary
        ? 'bg-blue-500 text-white'
        : 'bg-gray-200 text-black') +
      (isDisabled ? ' opacity-50 cursor-not-allowed' : '')
    }
  />

  // 推薦: 多層三元運算子換行
  const accessLevel = user.isAdmin
    ? 'Full Access'
    : user.isSubscribed
      ? 'Premium Features'
      : 'Trial Mode';

  // 不推薦: 單行超過 100 字元
  <button className={`px-4 py-2 rounded-md ${isPrimary ? 'bg-blue-500 text-white' : 'bg-gray-200 text-black'}${isDisabled ? ' opacity-50 cursor-not-allowed' : ''}`}/>

  // 不推薦: 單行嵌套三元運算
  const accessLevel = user.isAdmin ? 'Full Access' : user.isSubscribed ? 'Premium Features' : 'Trial Mode';**

  ```

- undefined 判斷：必須使用 typeof 和字串’undefined’對變數進行判斷。

  ```jsx
  // ✅ 推薦：
  if (typeof person === 'undefined') {
  ...
  }

  // 不推薦: 如果沒宣告person變數會拋出錯誤 ReferenceError: person is not defined
  if (person === undefined) {
  ...
  }
  ```

- 條件判斷和迴圈最多三層：
  優先使用三元運算子和邏輯運算子，如果超過2層則使用條件判斷，如果超過 3 層直接抽成函數，並寫清楚注釋。

  ```jsx
  // ✅ 推薦：簡單條件判斷
  const status = age >= 18 ? '成人' : '小孩';

  // ✅ 推薦：邏輯運算子設定預設值
  const list = JSON.parse(localStorage.getItem('someKey')) || [];

  // ✅ 推薦：邏輯運算子簡化條件
  user && renderUserProfile(user);

  // 不推薦: 過度巢狀的三元運算子難以閱讀
  let max = (a > b ? a : b) > c ? (a > b ? a : b) : c;

  // 不推薦：多重條件的三元運算子
  p === 'passion fruit' ? 10 : p === 'papaya' ? 2 : 0;
  ```

- 開發完成後，移除非必要的**console.log**

## 元件規範

- **元件&檔案命名**：

  - 首字母需大寫，優先使用駝峰式命名法（PascalCase），語義化命名。
  - 不可任意使用縮寫
  - 和父元件緊密耦合的子元件應該以父元件名作為前綴命名

  ```jsx
    // ✅正確
    function UserProfile() { ... }

  	|- TodoList.jsx
  	|- TodoListItem.jsx
  	|- TodoListItemButton.jsx


    // 錯誤
    function userprofile() { ... }

  	|- TodoList.jsx
  	|- TodoItem.jsx
  	|- TodoButton.jsx
  ```

- **元件註解**：

  - 在元件頂部添加描述性註解，說明功能、使用方法、範例。
  - 須加注釋的地方：
    - 元件使用說明
      - 使用非常見單詞要加註解
      - Props 要加註解
      - 複雜的**JSX**結構需要分區添加註解
    - 函式使用說明
      - 函式參數需要註解
      - services中的 api 等函式需要添加註解
    - store 中的 Slice 等 需要添加註解

  ```jsx
  /**
   * @component Input
   * @description 支援多種輸入類型和格式化功能的輸入框元件，。
   *
   * 主要功能：
   * - 支援多種輸入類型：文本、密碼、電子郵件、數字、金額等
   * - 金額類型支援千分位格式化顯示
   *
   * @param {string} id - 輸入框的 ID
   * @param {string} type - 輸入類型，支援 'text', 'password', 'email', 'number', 'tel', 'money', 'date', 'checkbox', 'file'
   * @param {string} placeholder - 提示文字
   *
   * @returns {JSX.Element} Input 元件
   *
   * @example
   *  基本文本輸入
   * <Input id="name" type="text" placeholder="請輸入姓名" />
  */

  function Input({id, type, placeholder}) {
     ...
  }
  ```

- **Props 定義**：

  - **解構時指定預設值**：確保 props 未提供時有合理的預設值，避免錯誤。
    ```jsx
    // ✅ 推薦:
    const Button = ({ color = 'blue', size = 'md' }) => {
      return <button className={`btn-${color} btn-${size}`}>Click me</button>;
    };
    ```
  - 使用 `PropTypes` 進行類型檢查。

    ```jsx
    import PropTypes from 'prop-types';

    // 如果一開始沒有給預設值，後續必須加上defaultProps
    function Button({ label, onClick }) {
      return <button onClick={onClick}>{label}</button>;
    }

    // ✅props類型檢查設定
    Button.propTypes = {
      label: PropTypes.string.isRequired,
      onClick: PropTypes.func,
    };

    // ✅這裡必須加上defaultProps 提供預設值
    Button.defaultProps = {
      onClick: () => {},
    };

    export default Button;
    ```

- 元件規模
  - **React 元件應控制在500 行之內**，超過 500 行就要考慮拆分
  - 主要頁面（Page Components）最多不超過1000行，避免邏輯過於複雜
  - 遵循單一職責原則（SRP）：每個函數、元件或 Hook 應該 只負責一個明確的功能，避免讓單個函數或組件處理過多的邏輯，以提升可讀性、可測試性和可維護性。
- Hook 規範

  - **使用 `useEffect` 時必須加上依賴陣列**，避免無窮迴圈。例如：

    ```jsx
    // ✅ 正確
    useEffect(() => {
      fetchData();
    }, []); // 依賴陣列確保 Effect 只在初次渲染時執行

    // ✅ 正確: 若需要動態更新，則應明確列出依賴變數
    useEffect(() => {
      fetchData();
    }, [userId]);

    // ❌錯誤: 無限重複執行
    useEffect(() => {
      fetchData();
    });
    ```

  - **禁止在條件語句中使用 Hooks**：這違反 React Hook 的規則，導致執行順序錯亂。

    ```jsx
    // ✅ 正確:應該是將條件判斷放入 Hook 內部
    useEffect(() => {
      if (isLoggedIn) {
        console.log('User logged in');
      }
    }, [isLoggedIn]);

    // 錯誤
    if (isLoggedIn) {
      useEffect(() => {
        console.log('User logged in');
      }, []); // ❌ 錯誤：Hook 不能放在條件語句內
    }
    ```

- **JSX格式**規範

  ```jsx
  // ✅ 推薦：屬性換行對齊
  <Component
    propA="valueA"
    propB={valueB}
    onClick={handleClick}
  >
    {children}
  </Component>

  // 不推薦:單行過長
  <Component propA="valueA" propB={valueB} onClick={handleClick}>{children}</Component>
  ```

- onClick 事件的函式必須使用箭頭函式：如果直接傳遞函式調用，會導致函式在渲染時立即執行，產生無限迴圈。

  ```jsx
  // ✅ 正確（使用箭頭函式）
  <button onClick={() => handleClick()}> 送出 </button>

  const addMasterData = () => {
  	...
  }
  <button onClick={addMasterData} /> 新增 </button>

  // ❌ 錯誤（直接呼叫函式）
  <button onClick={handleClick()}> 送出 </button> // 會導致無限執行
  ```

- **閉合標籤**：在React中，沒有子元素的標籤都應該使用自閉合寫法，**必須加**上 `/`

  ```html
  <!--✅  React 正確寫法: 沒有子元素的標籤都必須加上 / -->
  function MyComponent() { return (
  <div>
    <br />
    <img src="logo.png" alt="Logo" />
    <input type="text" />
  </div>
  ); }

  <!--❌ React 錯誤寫法: -->
  function MyComponent() { return (
  <div>
    <br />
    {/* JSX 會報錯 */}
    <img src="logo.png" alt="Logo" />
    <input type="text" />
  </div>
  ); }
  ```

- **副作用管理**

  ```jsx
  // ✅ 推薦：清理副作用
  useEffect(() => {
    const timer = setInterval(...); wh/au/6
    fn4z83vm0m04
    return () => clearInterval(timer);
  }, []);
  export default

  // 不推薦:
  useEffect(() => {
    setInterval(...); // 記憶體洩漏風險
  }, []);
  ```

- 不要直接操作 DOM
  已使用框架，所以在專案開發中盡量使用 react的原理: 資料驅動更新 DOM，非萬不得已，不要手動操作 DOM，包含：增刪改 dom 元素、以及更改樣式、添加事件等。

- 刪除無用代碼
  因使用了 git/svn 等代碼版本工具，對於無用代碼必須及時刪除，例如：測試用的 console 語句、無用的、棄用的功能代碼。

## Tailwind CSS 規範

- 自定義主題與變數，避免直接寫固定數值

  ```jsx
  /* tailwind.config.js */
  module.exports = {
    theme: {
      extend: {
        colors: {
          primary: {
            DEFAULT: '#2F54EB', // 主色
            light: '#597EF7',    // 淺色
            dark: '#1D39C4'      // 深色
          }
        },
        spacing: {
          'sidebar': '240px' // 自定義間距
        }
      }
    }
  }

  // 使用方式
  <div class="bg-primary p-18"></div>
  ```

- 優先使用Tailwind提供的原子類，避免自定義CSS或重複定義 Tailwind 已存在的樣式

  ```jsx
  // ✅ 正確：優先使用 Tailwind 類名
  <div class="p-4 bg-gray-100 rounded-lg shadow-md"></div>

  // ❌ 錯誤：自定義 CSS
  <div class="card-container"></div>
  <style>
  	.card-container {
  	  padding: 1rem;        /* 等同 p-4 */
  	  background: #f3f4f6;  /* 等同 bg-gray-100 */
  	  border-radius: 0.5rem;/* 等同 rounded-lg */
  	  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); /* 等同 shadow-md */
  	}
  </style>
  ```

- 使用優先級

  Tailwind 預設值 → 2. 擴展主題 → 3. 任意值 Arbitrary Values

  ```jsx
  // 優先使用 Tailwind 內建的預設值
  <div class="bg-gray-100"></div>

  // 其次使用主題擴展
  <div class="bg-primary"></div>

  // 不得已時才用任意值
  <div class="bg-[#f3f4f6]"></div>
  ```

- 遵循移動優先的響應式設計原則

  按順序，由小到大`sm:`, `md:`, `lg:`, `xl:`, `2xl:` 來處理響應式設計

  ```jsx
  // 從小到大依序覆蓋
  <div class="text-sm md:text-base lg:text-lg"></div>
  ```

- **類名順序**：按照功能模塊排序：佈局、盒模型、排版、外觀、其他。
  ```jsx
  <div
    class="
    <!-- 定位與盒模型 -->
    absolute inset-0 z-10 
    <!-- 布局 -->
    flex items-center justify-between 
    <!-- 尺寸與間距 -->
    w-full p-4 
    <!-- 外觀 -->
    bg-white border border-gray-200 rounded-lg 
    <!-- 文字 -->
    text-gray-900 font-medium 
    <!-- 狀態 -->
    hover:shadow-md focus:ring-2
    <!-- 動畫 -->
    transition-all duration-200
  "
  ></div>
  ```
- 適時使用 `@apply`，簡化長 class、提升可讀性、減少重複

  ```jsx
  // 推薦方法1: 使用 @apply
  /* styles.css */
  .btn-primary {
    @apply bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded shadow-md transition duration-300;
  }

  <button class="btn-primary">Click me</button>

  // 推薦方法2: 拆分成多行，增加可讀性
  <button
    class="
      bg-blue-500 hover:bg-blue-600
      text-white font-bold
      py-2 px-4 rounded
      shadow-md transition duration-300
    "
  >
    Click me
  </button>

  // 不推薦: 類名過長，難以維護
  <button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded shadow-md transition duration-300">
    Click me
  </button>

  ```

- 使用`@layer`指令撰寫自定義樣式
  | **樣式來源** | 分層 | **CSS 優先級** | **生成順序** | 潛在問題/缺點 |
  | ------------------------- | -------------- | -------------- | ------------------------- | --------------------------------------- |
  | `@layer base` | 基礎樣式層 | 低 | 最前面 | |
  | `@layer components` | **組件樣式層** | 中 | base 之後，utilities 之前 | |
  | `@layer utilities` | 工具類層 | 高 | components 之後 | |
  | 直接寫在app.css的樣式 | 不分層 | 最高 | 最後面 | 1. 無法被 Tailwind 的 PurgeCSS 機制優化<br> 2. 可能導致樣式優先級衝突 |

  ```jsx
  // **範例:** 基礎樣式層
  @layer base {
    /* 覆寫預設標籤樣式 */
    h1 {
      @apply text-3xl font-bold;
    }

    /* 自定義字體 */
    @font-face {
      font-family: 'CustomFont';
      src: url('/fonts/custom.woff2');
    }
  }

  // **範例: 組件樣式層**
  @layer components {
    /* 按鈕組件 */
    .btn-primary {
      @apply px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark;
    }

    /* 卡片容器 */
    .card {
      @apply p-6 bg-white shadow-md rounded-lg;
    }
  }

  //**範例:** 工具類層
  @layer utilities {
    /* 自定義旋轉角度 */
    .rotate-135 {
      transform: rotate(135deg);
    }

    /* 響應式工具類 */
    @responsive {
      .filter-sepia {
        filter: sepia(100%);
      }
    }
  }
  ```

- 避免過度依賴 `inline styles`

  **靜態樣式，應該統一使用 Tailwind**，但有些動態樣式仍適合用 `style` 屬性：

  ```jsx
  // 動態樣式:
  <div :style="{ width: dynamicWidth + 'px' }" class="bg-blue-500"></div>
  ```

- 慎用`!important`標記

  Tailwind 本身已經透過 Utility 順序來管理樣式，應避免手動加入 `!important`

  ```jsx
  // 不推薦
  <div class="text-red-500 !important">錯誤訊息</div>

  //推薦
  .error-message {
    @apply text-red-500;
  }

  <div class="error-message">錯誤訊息</div>
  ```

- 使用 container 與 max-w-\* 限制內容寬度

  開發響應式 UI 時，應該適當限制內容寬度，避免頁面過度拉伸影響可讀性：

  ```jsx
  <div class="container mx-auto max-w-4xl px-4">內容區域</div>
  ```

## CSS 規範

- **命名規則**：

  - 使用小寫字母，單詞之間以連字符（-）分隔。
  - 命名應具描述性，能夠清楚表達該元素的用途或功能。

  ```css
  /* 推薦 */
  .nav-bar {
  }

  .footer-links {
  }

  /* 不推薦 */
  .NavBar {
    /* 使用大寫字母、數字開頭或特殊字符。*/
  }

  .ftr {
    /*  命名過於簡短或無法描述元素功能。*/
  }
  ```

  - 遵循 BEM（Block Element Modifier）命名法，以提高樣式的可讀性和可維護性。

    ### Block（區塊）

    - **定義**：功能獨立的頁面組件，可重用且具有自己特有的意義
    - **命名規則**：使用小寫字母、數字和破折號（例如：`.header`、`.search-form`）
    - **特性**：獨立性高、可重用、使用彈性高
    - **CSS 選擇器**：只使用 class 名稱選擇器，不使用標籤或 ID 選擇器

    ```css
    // 推薦:
    .article-content p {
      font-size: 16px;
      line-height: 1.5;
    }

    .header {
      color: blue;
    }

    // 不推薦:
    p {
      /* 影響範圍太廣  */
      font-size: 16px;
      line-height: 1.5;
    }

    #header {
      /*  ID 權重較高，後續難以覆蓋 */
      color: red;
    }
    ```

    ### Element（元素）

    - **定義**：Block 中的組成部分，依賴於 Block 的意義
    - **命名規則**：使用 Block 名稱加上兩個底線和元素名稱（例如：`.search-form__input`）
    - **特性**：不能脫離 Block 單獨使用，始終是 Block 的一部分
    - **避免過度巢狀**：不應在 class 名稱中完整呈現 HTML 結構，避免 `.block__elem1__elem2` 的命名方式

    ### Modifier（修飾符）

    - **定義**：定義 Block 或 Element 的外觀、狀態或行為
    - **命名規則**：使用兩個破折號與 Block 或 Element 名稱分隔（例如：`.button--primary`、`.search-form__button--disabled`）
    - **特性**：不能脫離 Block 或 Element 使用，同一個實體可以有多個 Modifier
      ```css
      範例:
        .block {
      }
      .block__element {
      }
      .block--modifier {
      }
      ```

- 大型專案建議使用 CSS 預處理器，例如: Sass 或 Less，提升樣式的可維護性和可讀性。
- **樣式組織結構**：將全局樣式、元件樣式和工具類樣式分開管理，避免相互干擾。

  ```css
  /* 推薦: 按照功能或模組劃分樣式文件，並在主樣式表中導入。*/
  styles/
  ├── base/
  │   ├── _reset.scss
  │   ├── _typography.scss
  ├── components/
  │   ├── _buttons.scss
  │   ├── _cards.scss
  ├── layouts/
  │   ├── _header.scss
  │   ├── _footer.scss
  ├── main.scss

  /* 不推薦: 把所有樣式都寫在styles.css 文件龐大且難以維護*/
  ```

- 使用CSS變數定義主題顏色、字體大小等，方便維護和修改

  ```css
  /* 推薦 */
  $primary-color: #007bff;
  $secondary-color: #6c757d;
  $font-stack: 'Helvetica Neue', sans-serif;

  body {
    font-family: $font-stack;
    color: $primary-color;
  }

  /* 不推薦: 在各處直接使用硬編碼的顏色或字體。 */
  body {
    font-family: 'Arial', sans-serif;
    color: #ff0000;
  }
  ```

- 使用一致的單位:

  - 優先使用相對單位，如 `em`、`rem`、`%`，以提高響應式設計的靈活性。
  - **省略 0 後面的單位**

  ```css
  /* 推薦: 使用相對單位 */
  .container {
    width: 80%;
    margin: 0;
  }

  .text {
    font-size: 1.2rem;
  }

  /* 不推薦: 濫用絕對單位，可能影響響應式效果 */
  .container {
    width: 800px;
    margin: 0px;
  }

  .text {
    font-size: 16px;
  }
  ```

- 使用選擇器：

  優先使用 直接子選擇器 (`>`)、群組選擇器 (`,`)、屬性選擇器 (`[attr]`)
  | 選擇器 | 是否推薦 |
  | --- | --- |
  | **直接子選擇器 (`>`)** | ✅ 確保結構的明確性，避免選擇過多元素 |
  | **群組選擇器 (`,`)** | ✅ 減少重複代碼 |
  | **屬性選擇器 (`[attr]`)** | ✅ 針對特定屬性 |
  | **通用選擇器 (`*`)** | ⚠ 只適用於 reset CSS |
  | **後代選擇器 (`空格`)** | ⚠ 謹慎使用，可能導致過多元素被選中，影響效能 |

  ```css
  /* ✅ 推薦：直接子選擇器，確保只影響第一層 */
  .nav > li {
    margin-bottom: 10px;
  }

  /* ✅ 推薦：使用群組選擇器來合併相同樣式 */
  body,
  h1,
  h2,
  h3,
  p,
  ul,
  li {
    margin: 0;
    padding: 0;
  }

  /* ✅ 推薦：針對特定屬性的元素 */
  input[type='text'] {
    border: 1px solid #ccc;
  }

  /* ❌ 不推薦：後代選擇器，影響範圍過廣 */
  .nav li {
    margin-bottom: 10px;
  }

  /* ⚠ 通用選擇器，影響所有元素，效能較低，只適用於 reset CSS */
  * {
    margin: 0;
    padding: 0;
  }
  ```

- 避免層級過度嵌套 (Deep Nesting)，建議不超過3層

  ```css
  /* ✅ 推薦 */
  .header-nav-menu-item {
    color: red;
  }

  /* ❌ 不推薦，過度嵌套會增加選擇器的權重，使樣式難以覆蓋 */
  .header {
    .nav {
      .menu {
        .item {
          color: red;
        }
      }
    }
  }

  /* ❌ 不推薦，過度複雜/冗長 */
  div.container > ul#products-list > li.product-item > h2.title {
  }
  ```

- 避免使用`inline styles`

  ```css
  /* 推薦 */
  .main-title {
    color: blue;
  }

  <h1 class="main-title">標題</h1>

  /* 不推薦: 內聯樣式，可能導致樣式管理困難，且無法重複使用。 */
  <h1 style="color: blue;">標題</h1>

  ```

- 適當使用簡寫屬性（shorthand properties）：提升程式碼的簡潔性和可讀性。

  ```css
  /* 推薦: 需要設定多個相關屬性時，使用簡寫屬性。 */
  margin: 10px 15px 20px 25px; /* 上 右 下 左 */

  /*當僅需需改變部分子屬性時，直接使用對應的長寫屬性。避免未明確設定的子屬性被重置為預設值。*/
  /* 僅設定上邊距 */
  margin-top: 10px;
  ```

- **每個選擇器及屬性獨佔一行**

  ```jsx
  // ✅ 推薦：
  .button {
  	width: 100px;
  	color: #fff;
  	background: #00a0e9;
  }

  // 不推薦:
  .button {
  	width: 100px; color: #fff; background: #00a0e9;
  }
  ```

- 使用響應式設計：確保網站在不同設備和屏幕尺寸下的顯示效果。

  ```css
  /* 推薦: */
  @media (max-width: 600px) {
    .container {
      flex-direction: column;
    }
  }

  /* 不推薦: */
  .container {
    width: 960px;
  }
  ```

- 註解：在重要區塊或複雜的樣式上添加注釋，説明其用途或功能。
- 避免使用 `!important`，以保持樣式的可控性。

## HTML 規範

- 設定文件類型和字符編碼，確保正確渲染。

  ```html
  <!-- 推薦: -->

  <!DOCTYPE html>
  <html lang="zh-TW">
    <head>
      <meta charset="UTF-8" />
      <title>文件標題</title>
    </head>
    <body>
      內容
    </body>
  </html>

  <!-- 不推薦: -->
  <html>
    <head>
      <title>文件標題</title>
    </head>
    <body>
      內容
    </body>
  </html>
  ```

- 使用外部樣式表和腳本：
  將 CSS 和 JavaScript 分離到外部文件，保持結構、樣式、行為的分離。

  ````html
  <!DOCTYPE html>
  <html lang="zh-TW">
    <head>
      <meta charset="UTF-8" />
      <title>文件標題</title>

      <!-- ✅推薦: -->
      <link rel="stylesheet" href="styles.css" />

      <!-- ❌不推薦: 將 CSS 和 JavaScript 直接嵌入 HTML -->
      <style>
        /* 樣式 */
      </style>
    </head>
    <body>
      內容

      <!-- ✅推薦: -->
      <script src="scripts.js"></script>

      <!-- ❌不推薦: 將 CSS 和 JavaScript 直接嵌入 HTML -->
      <script>
        // 腳本
      </script>
    </body>
  </html>

  ```
  ````

- 使用小寫的標籤與屬性名稱

  ```html
  <!-- 推薦: -->
  <div class="container">
    <img src="image.jpg" alt="描述文字" />
  </div>

  <!-- 不推薦: 使用大寫或混合大小寫的標籤與屬性名稱，可能導致混淆。-->
  <div class="container">
    <img src="image.jpg" alt="描述文字" />
  </div>
  ```

- **語意化標籤**：優先使用語意化的 HTML5 標籤，如 `<header>`、`<main>`、`<footer>` 等，提高可訪問性和 SEO 效果。

  ```html
  <!-- 推薦: -->
  <header>
    <h1>網站標題</h1>
  </header>
  <main>
    <p>內容段落。</p>
  </main>
  <footer>
    <p>版權資訊。</p>
  </footer>

  <!-- 不推薦: 使用過多的 <div> ，缺乏語義性，降低可讀性和可維護性。-->
  <div class="header">
    <h1>網站標題</h1>
  </div>
  <div class="content">
    <p>內容段落。</p>
  </div>
  <div class="footer">
    <p>版權資訊。</p>
  </div>
  ```

- **屬性規範**

  - 屬性應使用雙引號(" ") ，例：<div class=”box”></div>
  - **順序**：推薦屬性按照以下順序排列，以提升可讀性與維護性
    | 類別 | 說明 | 常見屬性 |
    | ----------------- | ------------------------ | ---------------------------------------------------- |
    | 1. **結構屬性** | 控制元素識別與基本結構 | `id`、`class` |
    | 2. **可讀性屬性** | 提供額外資訊，提升理解性 | `title`、`alt`、`for` |
    | 3. **來源屬性** | 指定外部資源來源 | `src`、`href` |
    | 4. **表單屬性** | 影響表單輸入行為 | `name`、`value`、`type`、`max-length`、`placeholder` |
    | 5. **交互屬性** | 影響使用者行為 | `target`、`rel`、`download` |
    | 6. **事件屬性** | JavaScript 綁定的事件 | `onClick`、`onChange` |
    | 7. **無障礙屬性** | 提升網頁的可存取性 | `role`、`aria-*` |
    | 8. **自訂屬性** | 開發者自訂屬性 | `data-*` |

    ```html
    <!-- 推薦: -->
    <input
      id=""
      class=""
      title=""
      alt=""
      for=""
      src=""
      href=""
      name=""
      type=""
      value=""
      max-length=""
      placeholder=""
      target=""
      rel=""
      download=""
      onClick=""
      onChange=""
      role=""
      aria-*=""
      data-*=""
    />

    <!-- 不推薦: 屬性順序混亂 -->
    <input
      type=""
      aria-label=""
      class=""
      max-length=""
      title=""
      name=""
      id=""
      placeholder=""
      value=""
      data-validation=""
      onChange=""
    />
    ```

  - 圖片標籤`<img>`需提供替代文字`alt` 屬性，增強無障礙性。

    ```html
    <!-- 推薦: -->
    <img src="logo.png" alt="公司標誌" />

    <!-- 不推薦: -->
    <img src="logo.png" alt="" />
    ```

- **縮排格式**：使用 2 個空格縮排，保持代碼整齊一致。
  ```html
  <!-- 推薦: -->
  <!DOCTYPE html>
  <html lang="zh-TW">
    <head>
      <meta charset="UTF-8" />
      <title>文件標題</title>
    </head>
    <body>
      <h1>主標題</h1>
      <p>段落內容。</p>
    </body>
  </html>
  ```
- **閉合標籤**：除了自閉合標籤，所有標籤必須正確閉合。

  ⚠️**在 HTML5** 中，`<br>`、`<img>` 這類標籤可以 **不加 `/`**（因為瀏覽器會自動解析）

  ⚠️在React中，沒有子元素的標籤都應該使用自閉合寫法，**必須加**上 `/`

  ```html
  <!-- HTML 5 推薦: 自閉合標籤可以不加 /（因為瀏覽器會自動解析）-->
  <p>段落內容</p>
  <br />
  <hr />
  <img />
  <input />
  <meta />
  <link />

  <!--✅  React 正確/推薦寫法: 沒有子元素的標籤都必須加上 / -->
  function MyComponent() { return (
  <div>
    <br />
    <img src="logo.png" alt="Logo" />
    <input type="text" />
  </div>
  ); }

  <!--❌ React 錯誤寫法: -->
  function MyComponent() { return (
  <div>
    <br />
    {/* JSX 會報錯 */}
    <img src="logo.png" alt="Logo" />
    <input type="text" />
  </div>
  ); }
  ```

- 正確使用標題標籤：按照層級順序使用 `<h1>` 至 `<h6>` 標籤。

  ```html
  <!-- 推薦: -->
  <h1>主要標題</h1>
  <h2>次要標題</h2>
  <h3>子標題</h3>

  <!-- 不推薦: 跳過標題層級或無序使用標題標籤-->
  <h1>主要標題</h1>
  <h3>次要標題</h3>
  <h2>子標題</h2>
  ```

- 註解:
  代碼邏輯複雜時，應適時分區加上註解說明

## **版控系統 SVN/GIT**

- **提交訊息規範**

  1. 標題：type + ( scope ) + 主旨，長度50字內，必填

     **type 使用小寫，只允許使用以下類別：**

     - feat: 新增/修改功能 (feature)。
     - fix: 修補 bug (bug fix)。
     - docs: 文件 (documentation)。
     - style: 格式 (不影響程式碼運行的變動 white-space, formatting, missing semi colons, etc)。
     - refactor: 重構 (既不是新增功能，也不是修補 bug 的程式碼變動)。
     - perf: 改善效能 (A code change that improves performance)。
     - test: 增加測試 (when adding missing tests)。
     - chore: 建構程序或輔助工具的變動 (maintain)。
     - revert: 撤銷回覆先前的 commit
       例如：revert: type(scope): subject (回覆版本：xxxx)。

     scope 代表 commit 影響的範圍/程式，例如:資料庫、控制層、模板層等，選填。

  2. 內容：詳細描述程式碼變動的項目和原因，可分成多行，每行72字內，推薦填寫
  3. 頁腳：填寫任務編號/QA編號(如果有)，選填

    ```jsx
    // ✅ 推薦：
    fix: 意見反應，信件看不到圖片問題

    問題：
    1. 客戶反應：意見反應的信件都看不到圖片。

    原因：
    1. 目前程式碼都會要求先登入後才可查看使用者上傳的檔案，
      造成在信件上會看不見圖片的問題。

    調整項目：
    1. File.php，經討論後，開放讓意見反應頁面上傳的檔案，不用登入就可以查看/下載。

    issue #1229

    // ✅ 推薦：
    feat: IFAD302F 增加年結轉迴轉按鈕

    因應PM需求：
    1. 畫面上的[結轉年度]欄位名稱 改為[關帳年度]
    2. 按鈕[開始] 改為[結轉]
    3. 在[結轉]的右方多一個[回轉]按鈕

    調整項目：
    1. 按需求調整欄位與按鈕名稱
    2. 新增回轉按鈕，串接 QuOther API

    // ❌ 禁止:
    提交無意義訊息：update code、fix bug...等
    提交空白commit：罪加一等，遊街示眾
    ```

- **Git-分支命名規範**：
  - `main`：主要穩定分支，通常對應正式上線環境。
  - `develop`：開發分支，所有新功能與修復應先合併到此分支進行整合。
  - `release/x.x.x`：準備上線的版本分支，例如 `release/1.2.0`，用於最後的測試與修正。
  - `feature/xxx`：新功能開發，例如 `feature/user-authentication`。
  - `fix/xxx`：錯誤修正，例如 `fix/login-bug`。
  - `hotfix/xxx`：緊急修正，例如 `hotfix/critical-issue`，直接從 `main` 分支衍生並迅速合併回 `main`。
  - `chore/xxx`：設定或維護性變更，例如 `chore/update-dependencies`。
- **GitHub-PR（Pull Request）描述格式**：

  每次提交 PR 時，使用以下範例格式，確保審查人員能快速理解變更內容：

  ```markdown
  ## 變更內容

  - 修復登入錯誤，避免使用者無法登入
  - 優化 API 請求效能，減少不必要的請求

  ## 測試方式

  - [ ] 本地測試通過
  - [ ] CI/CD 測試通過

  ## 影響範圍及檔案

  - 影響登入模組與用戶驗證流程
  - 可能影響 `AuthProvider` 相關功能
  - `src/context/AuthProvider.js`
  ```

## **測試規範(暫定)**

- 單元測試

  建議所有元件測試檔案（\*.test.jsx）皆採用如下分組描述結構：

  - 基本 UI 渲染
  - 功能測試
  - 邊界值測試

  ```js
  // ✅ 推薦：
  describe('XXX 元件', () => {
    describe('基本 UI 渲染', () => {
      it('應正確渲染 ...', () => {
        /* ... */
      });
    });
    describe('功能測試', () => {
      it('應正確 ...', () => {
        /* ... */
      });
    });
    describe('邊界值測試', () => {
      it('邊界情境 ...', () => {
        /* ... */
      });
    });
  });
  ```

  ```jsx
  // ✅ 推薦：Testing Library
  test('顯示載入狀態', () => {
    render(<Loader isLoading={true} />);
    expect(screen.getByRole('progressbar')).toBeInTheDocument();
  });

  // ❌ 禁止：測試實作細節
  test('setState被調用', () => {
    const setState = jest.fn();
    const wrapper = mount(<Component setState={setState} />);
    wrapper.find('button').simulate('click');
    expect(setState).toHaveBeenCalled(); // 過度耦合
  });
  ```

- **E2E測試**

  ```jsx
  // ✅ 推薦：Cypress規範
  cy.get('[data-testid="submit-btn"]').click().should('be.disabled');

  // ❌ 禁止：依賴class選擇器
  cy.get('.btn.submit').click();
  ```
